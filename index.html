<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ğŸ”§FLEXBOX-TOOL</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/index.css">
</head>
<body>
  <div class="main-warp">
    <div class="info-content">
      <div class="left-logo">
        <h2>Flexbox åœ¨çº¿æµ‹è¯•å·¥å…·ğŸ”§</h2>
        <p>Flexboxï¼ˆå…¨ç§° Flexible Boxï¼‰å¸ƒå±€ï¼Œä¹Ÿå« Flex å¸ƒå±€ï¼Œæ„ä¸ºâ€œå¼¹æ€§å¸ƒå±€â€</p>
      </div>
      <div class="info-text">
        <p>Flexå¸ƒå±€æ˜¯ä¸€æ•´ä¸ªæ¨¡å—ï¼Œçˆ¶å…ƒç´ ç§°ä¸º
          <span class="code-tip" data-id="1-1">flex containerï¼ˆFlex å®¹å™¨ï¼‰</span>ï¼›
          æ‰€æœ‰å­å…ƒç´ ç§°ä¸º
          <span class="code-tip" data-id="1-2">flex itemï¼ˆFlex é¡¹ç›®ï¼‰</span>ï¼›
        </p>
        <p>Flexå¸ƒå±€å­˜åœ¨ä¸¤æ¡æ¦‚å¿µè½´
          <br />
          1. <span class="code-tip" data-id="2-1">ä¸»è½´ï¼ˆmain axisï¼‰</span>
          <br />
          2. <span class="code-tip" data-id="3-1">äº¤å‰è½´ï¼ˆcross axisï¼‰</span>
        </p>
        <p>ä¸»è½´: é»˜è®¤æ˜¯æ°´å¹³æ–¹å‘,ä»å·¦åˆ°å³; å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åš
          <span class="code-tip" data-id="2-2">main start</span>ï¼Œ
          ç»“æŸä½ç½®å«åš
          <span class="code-tip" data-id="2-3">main end</span>ï¼›</p>
        <p>äº¤å‰è½´: é»˜è®¤æ˜¯å‚ç›´æ–¹å‘, ä»ä¸Šåˆ°ä¸‹; å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åš
          <span class="code-tip" data-id="3-2">cross start</span>ï¼Œ
          ç»“æŸä½ç½®å«åš
          <span class="code-tip" data-id="3-3">cross end</span>ï¼›
        </p>
        <p>å­å…ƒç´ åœ¨ä¸»è½´æ–¹å‘ä¸Šçš„å¤§å°ç§°ä¸º
          <span class="code-tip" data-id="4-1">main size</span>ï¼Œ
          åœ¨äº¤å‰è½´æ–¹å‘ä¸Šçš„å¤§å°ç§°ä¸º
          <span class="code-tip" data-id="4-2">cross size</span>ã€‚
        </p>
      </div>
    </div>
    <div class="container-warp">
      <div class="container-top">
        <ul class="right-nav">
          <li class="nav-current" data-id="1">å®¹å™¨å±æ€§</li>
          <li data-id="2">é¡¹ç›®å±æ€§</li>
        </ul>
        <div id="attr-warp" class="attr-warp"></div>
        <div class="item-attr-warp"></div>
      </div>
      <div class="box-container">
        <div class="dashed-arrow main-axis">
          <span class="main-start">main start</span>
          <span class="main-center">main axis(ä¸»è½´)</span>
          <span class="main-end">main end</span>
        </div>
        <div class="dashed-arrow1 cross-axis">
          <span class="cross-start">cross start</span>
          <span class="cross-center">cross axis(äº¤å‰è½´)</span>
          <span class="cross-end">cross end</span>
        </div>
        <div class="main-container">
        </div>
      </div>
      <div id="desc" class="desc">
        <span class="code-tag">.container {</span>
        <div id="code-list-warp"></div>
        <span class="code-tag">}</span>
      </div>
      <div class="item-list-desc"></div>
    </div>
  </div>
  <script crossorigin="anonymous" integrity="sha384-rY/jv8mMhqDabXSo+UCggqKtdmBfd3qC2/KvyTDNQ6PcUJXaxK1tMepoQda4g5vB"
    src="https://lib.baomitu.com/jquery/2.2.4/jquery.min.js"></script>
  <script>
    let itemList = [
      {
        id: 0,
        title: 'order',
        desc: 'orderï¼šå®šä¹‰äº†é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œé»˜è®¤å€¼ä¸º0ï¼Œæ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰',
        code: '.item{order:integer;}'
      },
      {
        id: 1,
        title: 'flex-grow',
        desc: 'flex-growï¼šå®šä¹‰äº†é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œä¹Ÿå°±æ˜¯å³ä½¿å­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸ä¼šæ”¾å¤§',
        code: '.item{flex-grow:number;}'
      },
      {
        id: 2,
        title: 'flex-shrink',
        desc: 'flex-shrinkï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1(è´Ÿå€¼å¯¹è¯¥å±æ€§æ— æ•ˆ)ï¼Œå³å½“ç©ºé—´ä¸è¶³æ—¶ï¼Œé¡¹ç›®ä¼šè‡ªåŠ¨ç¼©å°;å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-shrinkéƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½å°†ç­‰æ¯”ç¼©å°ï¼›å¦‚æœå…¶ä¸­ä¸€ä¸ªé¡¹ç›®çš„flex-shrinkä¸º0ï¼Œå…¶ä½™éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œflex-shrinkä¸º0çš„ä¸ç¼©å°ã€‚',
        code: '.item{flex-shrink:number;}'
      },
      {
        id: 3,
        title: 'flex-basis',
        desc: 'flex-basisï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™çš„ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼Œé»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®åŸæ¥çš„å¤§å°ã€‚æµè§ˆå™¨ä¼šæ ¹æ®è¿™ä¸ªå±æ€§æ¥è®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™çš„ç©ºé—´ã€‚',
        code: '.item{flex-basis:length|auto;}',
      },
      {
        id: 4,
        title: 'flex',
        desc: 'flexï¼šå±æ€§æ˜¯flex-growã€flex-shrinkã€flex-basisçš„ç¼©å†™ï¼Œé»˜è®¤å€¼æ˜¯(0,1,auto)ï¼Œåä¸¤ä¸ªå±æ€§å¯é€‰ã€‚',
        code: "",
      },
      {
        id: 5,
        title: 'align-self',
        desc: 'align-selfï¼šç”¨æ¥å®šä¹‰å•ä¸ªé¡¹ç›®ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯ä»¥è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å±æ€§å€¼æ˜¯autoï¼Œå³ç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§å€¼ã€‚å½“æ²¡æœ‰çˆ¶å…ƒç´ æ—¶ï¼Œå®ƒçš„è¡¨ç°ç­‰åŒäºstretchã€‚',
        code: '.item{align-self:auto|flex-start|flex-end|center|baseline|stretch;}'
      }
    ];
    let navLists = [
      {
        id: 0,
        title: 'flex-direction',
        desc: 'å®šä¹‰ä¸»è½´æ–¹å‘',
        children: [
          {
            id: 1,
            title: 'row',
            desc: 'ä¸»è½´åœ¨æ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å·¦ä¾§ï¼Œé»˜è®¤å€¼',
          },
          {
            id: 2,
            title: 'row-reverse',
            desc: 'ä¸»è½´åœ¨æ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å³ä¾§',
          },
          {
            id: 3,
            title: 'column',
            desc: 'ä¸»è½´åœ¨å‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸Šè¾¹',
          },
          {
            id: 4,
            title: 'column-reverse',
            desc: 'ä¸»è½´åœ¨å‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸‹è¾¹',
          },
        ]
      },
      {
        id: 1,
        title: 'flex-wrap',
        desc: 'å®šä¹‰å¦‚ä½•æ¢è¡Œ',
        children: [
          {
            id: 1,
            title: 'nowrap',
            desc: 'ä¸æ¢è¡Œï¼Œ (é»˜è®¤å€¼ï¼‰',
          },
          {
            id: 2,
            title: 'wrap',
            desc: 'æ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šè¾¹',
          },
          {
            id: 3,
            title: 'wrap-reverse',
            desc: 'æ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸‹è¾¹',
          },
        ]
      },
      {
        id: 2,
        title: 'justify-content',
        desc: 'å®šä¹‰äº†é¡¹ç›®ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼',
        children: [
          {
            id: 1,
            title: 'flex-start',
            desc: 'ä¸ä¸»è½´çš„èµ·ç‚¹å¯¹é½ï¼ˆé»˜è®¤å€¼ï¼‰',
          },
          {
            id: 2,
            title: 'flex-end',
            desc: 'ä¸ä¸»è½´çš„ç»ˆç‚¹å¯¹é½',
          },
          {
            id: 3,
            title: 'center',
            desc: 'é¡¹ç›®å±…ä¸­å¯¹é½',
          },
          {
            id: 4,
            title: 'space-between',
            desc: 'ä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„è·ç¦»éƒ½ç›¸ç­‰',
          },
          {
            id: 5,
            title: 'space-around',
            desc: 'æ¯ä¸ªé¡¹ç›®çš„ä¸¤ä¾§é—´éš”ç›¸ç­‰ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ˜¯é¡¹ç›®ä¸è¾¹æ¡†ä¹‹é—´é—´éš”çš„ä¸¤å€',
          },
        ]
      },
      {
        id: 3,
        title: 'align-items',
        desc: 'å®šä¹‰äº†é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½',
        children: [
          {
            id: 1,
            title: 'stretch',
            desc: 'å¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è€…ä¸ºautoï¼Œé¡¹ç›®å°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ï¼ˆé»˜è®¤å€¼ï¼‰',
          },
          {
            id: 2,
            title: 'flex-start',
            desc: 'ä¸äº¤å‰è½´çš„èµ·ç‚¹å¯¹é½',
          },
          {
            id: 3,
            title: 'flex-end',
            desc: 'ä¸äº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½',
          },
          {
            id: 4,
            title: 'center',
            desc: 'å±…ä¸­å¯¹é½',
          },
          {
            id: 5,
            title: 'baseline',
            desc: 'é¡¹ç›®ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½',
          },
        ]
      },
      {
        id: 4,
        title: 'align-content',
        desc: 'å®šä¹‰äº†å¤šè¡Œåœ¨å‚ç›´æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼ˆé¡¹ç›®æ’åˆ—åªæœ‰ä¸€è¡Œæ—¶ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ï¼‰',
        children: [
          {
            id: 1,
            title: 'stretch',
            desc: 'å¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è€…ä¸ºautoï¼Œé¡¹ç›®å°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ï¼ˆé»˜è®¤å€¼ï¼‰',
          },
          {
            id: 2,
            title: 'flex-start',
            desc: 'ä¸äº¤å‰è½´çš„èµ·ç‚¹å¯¹é½',
          },
          {
            id: 3,
            title: 'flex-end',
            desc: 'ä¸äº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½',
          },
          {
            id: 4,
            title: 'center',
            desc: 'å±…ä¸­å¯¹é½',
          },
          {
            id: 5,
            title: 'space-between',
            desc: 'ä¸äº¤å‰è½´ä¸¤ç«¯å¯¹é½ï¼Œè½´çº¿ä¹‹é—´çš„è·ç¦»ç›¸ç­‰',
          },
          {
            id: 6,
            title: 'space-around',
            desc: 'æ¯æ ¹è½´çº¿ä¸¤ä¾§çš„é—´éš”éƒ½ç›¸ç­‰ï¼Œæ‰€ä»¥è½´çº¿ä¸è½´çº¿ä¹‹é—´çš„é—´éš”æ˜¯è½´çº¿ä¸è¾¹æ¡†ä¹‹é—´é—´éš”çš„ä¸¤å€',
          },
        ]
      },
    ];

    function FlexBoxTool() {
      this.attrListEle = '';
      this.attrWarp = $('.attr-warp');
      this.descWarp = $('.desc');
      this.containerEle = $('.main-container');
      this.codeWarp = $('#code-list-warp');
      this.boxContainer = $('.box-container');
      this.styleObj = {};
      this.descInfo = {};
    }
    FlexBoxTool.prototype = {
      init: function init() {
        this.attrEle();
        this.itemEles(3);
        this.itemHoverHandle();
        this.targetHandle();
        this.addHoverTitle();
        this.titleHandle();
        this.navHandel();
      },
      attrEle: function attrEle() {
        for (let i = 0; i < navLists.length; i++) {
          this.attrListEle += this.childAttrEle(navLists[i]);
        }
        this.attrWarp.empty();
        this.attrWarp.append(this.attrListEle);
      },
      childAttrEle: function childAttrEle(data) {
        let childArr = data.children;
        let childEle = '';
        for (let i = 0; i < childArr.length; i++) {
          childEle += (
            `<li
              class="attr-list-item"
              data-parent-value=${data.title}
              data-parent-id=${data.id}
              data-parent-desc=${data.desc}
              data-value=${childArr[i].title}
              data-desc=${childArr[i].desc}
            >
              ${childArr[i].title}
            </li>`
          );
        }
        return (
          `<div class="nav-warp">
            <h3 data-id=${data.id} data-value=${data.title}>
                ${data.title}
            </h3>
            <ul class="attr-list">
              ${childEle}
            </ul>
          </div>
          `
          // <span>${data.title}</span>: ${data.desc}
        );
      },
      itemEles: function itemEles(num) {
        let itemEle = '';
        for (let i = 0; i < num; i++) {
          itemEle += `
          <div class="item">
            <span>${i + 1}</span>
            <div class="item-code-text"></div>
          </div>`;
        }
        this.containerEle.empty();
        this.containerEle.append(itemEle);
      },
      itemHoverHandle: function () {
        $('.nav-warp').hover(function () {
          $(this).find('.attr-list').slideToggle();
        })
      },
      targetHandle: function () {
        let that = this;
        $('.attr-list').click(function (event) {
          var $target = $(event.target);
          if ($target.is('.attr-list-item')) {
            $target.siblings('.attr-list-item').removeClass('attr-list-item-current');
            $target.addClass('attr-list-item-current');

            let parentId = $target.data('parentId')
            let parentValue = $target.data('parentValue');
            let value = $target.data('value');

            if (parentId === 1 || parentId === 4) {
              that.itemEles(6);
            }
            const params = {
              parentDesc: $target.data('parentDesc'),
              desc: $target.data('desc'),
              value: value,
            }
            // è®¾ç½®cssæ ·å¼
            that.setStyle(parentValue, value, params);
          }
        })
      },
      setStyle: function (k, v, params) {
        /*
          0: 'flex-direction'
          1: 'flex-wrap'
          2: 'justify-content'
          3: 'align-items'
          4: 'align-content'
        */
        this.styleObj[k] = v;
        this.descInfo[k] = params;
        this.containerEle.css(this.styleObj);
        this.setCode(); // è®¾ç½®æ˜¾ç¤ºä»£ç 
      },
      setCode: function () {
        
        let codeEle = '';
        $.each(this.descInfo, function (i, n) {
          codeEle += `
            <div class="code-list">
              <i class="code-item code-comment">// ${n.parentDesc}</i>
              <p class="code-item">
                ${i}: 
                <i class="code-v">${n.value}</i>
                <i class="code-comment">// ${n.desc}</i>
              </p>
            </div>
          `
        })
        this.codeWarp.empty();
        this.codeWarp.append(codeEle);
        // this.desc.text(JSON.stringify(this.styleObj));
      },
      addHoverTitle: function () {
        $('.code-tip').attr('title', 'æŸ¥çœ‹å³ä¾§å›¾')
      },
      titleHandle: function () {
        const that = this;
        $('.code-tip').hover(function (event) {
          let $target = $(event.target);
          switch ($target.data('id')) {
            case '1-1':
              that.boxContainer.css('background-color', '#ffebcf')
              break;
            case '1-2':
              $('.item').css('background-color', '#9acdff')
              break;
            case '2-1':
            case '2-2':
            case '2-3':
              $('.main-axis').css('display', 'block');
              break;
            case '3-1':
            case '3-2':
            case '3-3':
              $('.cross-axis').css('display', 'block');
              break;
            case '4-1':
              $('.item').addClass('item-main-axis');
              break;
            case '4-2':
              $('.item').addClass('item-cross-axis');
              break;
            default:
              break;
          }
        }, function (event) {
          let $target = $(event.target);
          switch ($target.data('id')) {
              case '1-1':
                that.boxContainer.css('background-color', '#fff')
                break;
              case '1-2':
                $('.item').css('background-color', '#cfe8ff')
                break;
              case '2-1':
              case '2-2':
              case '2-3':
                $('.main-axis').css('display', 'none');
                break;
              case '3-1':
              case '3-2':
              case '3-3':
                $('.cross-axis').css('display', 'none');
                break;
              case '4-1':
                $('.item').removeClass('item-main-axis');
                break;
              case '4-2':
                $('.item').removeClass('item-cross-axis');
                break;
              default:
                break;
            }
        })
      },
      navHandel: function () {
        let that = this;
        $('.right-nav').click(function (event) {
          let $target = $(event.target);
          let id = $target.data('id');
          $target.siblings('li').removeClass('nav-current');
          $target.addClass('nav-current');
          if (id === 2) {
            that.attrWarp.hide();
            that.descWarp.hide();
            $('.item-attr-warp, .item-list-desc').show();
            $('.item-attr-warp').empty();
            let navEle = '';
            for (let i = 0; i < itemList.length; i++) {
              navEle += `<span
                data-id=${itemList[i].id}
                data-value=${itemList[i].title}
                data-desc=${itemList[i].desc}
                data-code=${itemList[i].code}
              >
                ${itemList[i].title}
              </span>`;
            }
            $('.item-attr-warp').append(navEle);
            let firstEle = $('.item-attr-warp').find('span')[0]
            $(firstEle).addClass('current');
            // æ¸²æŸ“å­å…ƒç´ è§£é‡Šå†…å®¹
            $('.item-list-desc').text(itemList[0].code + ' ' + itemList[0].desc);
            that.navChangeHandel();
            that.changeItemEleStyle('order', 0);
          } else {
            that.attrWarp.show();
            that.descWarp.show();
            // hide
            $('.item-attr-warp, .item-list-desc').hide();
          }
        })
      },
      navChangeHandel: function () {
        let that = this;
        $('.item-attr-warp').click(function (event) {
          let $target = $(event.target);
          $target.siblings().removeClass('current');
          $target.addClass('current');
          $('.item-list-desc').text($target.data('code') + ' ' + $target.data('desc'));
          that.changeItemEleStyle($target.data('value'), $target.data('id'));
        })
      },
      changeItemEleStyle: function (k, id) {
        let obj = { [k]: 0 }
        if (id === 2) {
          this.itemEles(7);
        } else {
          this.itemEles(4);
        }
        let itemEle = this.containerEle.find('.item');
        for (let i = 0; i < itemEle.length; i++) {
          $(itemEle[i]).removeAttr("style");
        }
        if (id === 0) {
          obj[k] = -2;
          $(itemEle[2]).css(obj)  
          $(itemEle[2]).find('.item-code-text').text(JSON.stringify(obj));
        } else if (id === 1) {
          obj[k] = 1;
          for (let i = 0; i < itemEle.length; i++) {
            $(itemEle[i]).removeAttr("style");
            $(itemEle[i]).css(obj);
            $(itemEle[i]).find('.item-code-text').text(JSON.stringify(obj));
          }
        } else if (id === 2) {
          obj[k] = 0;
          $(itemEle[2]).css(obj)
          $(itemEle[2]).find('.item-code-text').text(JSON.stringify(obj));
        } else if (id === 3) {
          obj[k] = '180px';
          $(itemEle[2]).css(obj)
          $(itemEle[2]).find('.item-code-text').text(JSON.stringify(obj));
        } else if (id === 4) {
          obj[k] = '0 1 auto';
          for (let i = 0; i < itemEle.length; i++) {
            $(itemEle[i]).removeAttr("style");
            $(itemEle[i]).css(obj);
            $(itemEle[i]).find('.item-code-text').text(JSON.stringify(obj));
          }
        } else if (id === 5) {
          obj[k] = 'flex-end';
          $(itemEle[2]).css(obj)
          $(itemEle[2]).find('.item-code-text').text(JSON.stringify(obj));
        }
      }
    }


    const flexBoxTool = new FlexBoxTool();
    flexBoxTool.init();

  </script>
</body>
</html>